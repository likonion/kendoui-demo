<!DOCTYPE html>
<html lang="en" style="height: 100%;margin: 0;padding: 0;">

<head>
    <meta charset="UTF-8">
    <title></title>
    <link rel="stylesheet" href="styles/normalize.css">
    <link rel="stylesheet" href="styles/kendo.common.min.css">
    <link rel="stylesheet" href="styles/kendo.default.min.css">
    <link rel="stylesheet" href="styles/kendo.default.mobile.min.css">
    <link rel="stylesheet" href="styles/common.css">
    <script src="js/jquery.min.js"></script>
    <script src="js/kendo.all.min.js"></script>
</head>

<body style="height: 100%;overflow:hidden;">

    <div id="vertical">
        <!-- 页面头部 -->
        <div id="top-pane" class="top-pane">
            <div class="logo">
                <div class="logoName">维修方案优化系统</div>
                <a href="#/welcome">
                    <img src="images/logo.png" alt="logo" width="140" class="logoImg">
                </a>
            </div>
            <div class="topLink">
                当前用户： 根目录 / 系统管理员
                <a href="#">消息(18)</a> |
                <a href="#">退出</a>
            </div>
        </div>
        <!-- 页面中部 -->
        <div id="middle-pane">
            <div id="horizontal" style="height: 100%; width: 100%;">
                <!-- 左边树 -->
                <div id="left-pane" class="left-pane" style="height: 100%; width: 100%;">
                    <div class="m-treeview" style="height: 100%; width: 100%;">
                        <ul id="treeview">
                            <li data-expanded="true">
                                维修方案项目定义
                                <ul>
                                    <li data-expanded="true">
                                        <span class="k-sprite folder"></span>
                                        <a href="#/define/define">维修方案项目定义</a>
                                        <ul>
                                            <li data-expanded="true">
                                                <span class="k-sprite doc"></span>
                                                测试下级菜单
                                            </li>
                                        </ul>
                                    </li>
                                    <li data-expanded="true">
                                        <span class="k-sprite doc"></span>
                                        维修方案项目定义查询
                                    </li>
                                </ul>
                            </li>
                            <li data-expanded="true">
                                维修数据采集管理
                                <ul>
                                    <li data-expanded="true">
                                        <span class="k-sprite doc"></span>
                                        维修数据相关性校核
                                    </li>
                                    <li data-expanded="true">
                                        <span class="k-sprite doc"></span>
                                        维修数据查询
                                    </li>
                                </ul>
                            </li>
                            <li data-expanded="true">

                                维修方案统计分析及管理
                                <ul>
                                    <li data-expanded="true">
                                        <span class="k-sprite doc"></span>
                                        <a href="#/statistics/statistics">维修数据统计分析</a>
                                    </li>
                                    <li data-expanded="true">
                                        <span class="k-sprite doc"></span>
                                        维修数据统计分析查询
                                    </li>
                                    <li data-expanded="true">
                                        <span class="k-sprite doc"></span>
                                        有效性监控设置
                                    </li>
                                </ul>
                            </li>
                            <li data-expanded="true">

                                维修方案优化工程建议
                                <ul>
                                    <li data-expanded="true">
                                        <span class="k-sprite doc"></span>
                                        维修方案优化工程建议
                                    </li>
                                    <li data-expanded="true">
                                        <span class="k-sprite doc"></span>
                                        维修方案优化工程建议查询
                                    </li>
                                    <li data-expanded="true">
                                        <span class="k-sprite doc"></span>
                                        关联工卡维护
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </div>
                <!-- 主体内容块 -->
                <div id="center-pane" class="center-pane" style="height: 100%; width: 100%;overflow:hidden;">
                </div>
            </div>
        </div>
    </div>

    <script>
        // router 
        var router = new kendo.Router({
            pushState: false,
            root: "/", // default:"/"
            change: function (e) {
                // 默认加载welcome页面
                if (e.url === '/') {
                    router.navigate("/welcome");
                }
                // e.preventDefault(); //preventDefault 阻止页面切换
            }
        });
        router.route("(/:category)/:page", function (category, page) {
            var mainBox = $("#center-pane");
            mainBox.html('');
            kendo.ui.progress(mainBox, true) // 显示loading
            var newUrl = category ? category + '/' + page + '.html' : page + '.html';
            // 点击左侧树异步加载相应模块到右边显示
            $.ajax({
                url: newUrl,
                dataType: "html",
                success: function (data) {
                    document.title = page;
                    kendo.ui.progress(mainBox, false) //隐藏loading
                    mainBox.html(data);
                },
                error: function (XMLHttpRequest, textStatus, errorThrown) {
                    console.log(XMLHttpRequest.status);
                }
            })
        });

        $(document).ready(function () {
            router.start();
            // Splitter 布局
            $("#vertical").kendoSplitter({
                orientation: "vertical",
                panes: [{
                        collapsible: false,
                        resizable: false,
                        size: "50px"
                    },
                    {
                        collapsible: false,
                        resizable: false
                    }
                ]
            });

            $("#horizontal").kendoSplitter({
                panes: [{
                        collapsible: true,
                        resizable: true,
                        size: "200px"
                    },
                    {
                        collapsible: true,
                        resizable: true
                    }
                ]
            });
            // treeview
            $("#treeview").kendoTreeView();

        });
    </script>


</body>

</html>